(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var s=o.length-1;s>-1&&!e;)e=o[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"6844ef944865335f27f2f4a9e3cd5d18.png",n=t.p+"c9ef60dcbf2368b1e8ed43b58be2b8b0.png",o=t.p+"64b91fc08f2a814db89f50a5b9f21592.png";!function(){const t=[{img:e},{img:n},{img:o}],s=document.getElementById("images"),c=document.querySelectorAll(".slider__dot"),a=e=>{s.src=t[e].img};let i=0;function r(t){c.forEach((t=>t.classList.remove("active"))),c[t].classList.add("active")}a(i),setInterval((()=>{i==t.length-1?i=0:i++,a(i),r(i),c.forEach(((t,e)=>{t.addEventListener("click",(()=>{i=e,a(i),r(i)}))}))}),5e3)}(),function(){const t=[{name:"Architecture",subject:"Architecture"},{name:"Art & Fashion",subject:"Art"},{name:"Biography",subject:"Biography&Autobiography"},{name:"Business",subject:"Business"},{name:"Crafts & Hobbies",subject:"Crafts&Hobbies"},{name:"Drama",subject:"Drama"},{name:"Fiction",subject:"Fiction"},{name:"Food & Drink",subject:"Cooking"},{name:"Health & Wellbeing",subject:"Health&Fitness"},{name:"History & Politics",subject:"History"},{name:"Humor",subject:"Humor"},{name:"Poetry",subject:"Poetry"},{name:"Psychology",subject:"Psychology"},{name:"Science",subject:"Science"},{name:"Technology",subject:"Technology"},{name:"Travel & Maps",subject:"Travel"}],e=document.querySelector(".category__content"),n=document.querySelector(".dropdown-menu");let o=JSON.parse(localStorage.getItem("books"))??[];!function(t){let n="";t.forEach((t=>{const e=`\n         <a href="#" class="category__link" id="category__link" name="${t.subject}">\n            <span class="category__title">\n               ${t.name}\n            </span>\n         </a>\n         `;n+=e})),e.innerHTML=n}(t),function(t){let e="";t.forEach((t=>{const n=`<option class="category__link-mobile" value="${t.subject}">${t.name}</option>`;e+=n})),n.innerHTML=e}(t);const s=document.querySelectorAll("#category__link");document.querySelectorAll("#category__link-mobile");let c=0,a=t[c].subject;function i(t,e){let n=new XMLHttpRequest;n.open("GET",`https://www.googleapis.com/books/v1/volumes?q="subject:${e}"&key=AIzaSyBnQdfhyAaD4nvso6MPlhR70XBy0Zmp1I8&printType=books&startIndex=${t}&maxResults=6&langRestrict=en`,!0),n.onload=function(){if(200!==n.status)console.log("Статус ответа: ",n.status);else{const t=JSON.parse(n.response);console.log(t),function(t){let e="";t.items.forEach((t=>{const n=t.volumeInfo.averageRating;let s="";for(let t=0;t<n;t++)s+='<span class="star"></span>';for(let t=n;t<5;t++)s+='<span class="empty-star"></span>';const c=`\n         <div class="list-books__card">\n            <div class="list-books__card--image">\n               <img class="list-books__card--img" src="${t.volumeInfo.imageLinks?.thumbnail??"../img/list-book/Нет_фото.png"}">\n            </div>\n            <div class="list-books__card--content">\n               <p class="list-books__card--autor">\n                  ${void 0!==t.volumeInfo.authors?t.volumeInfo.authors:""}\n               </p>\n               <h2 class="list-books__card--name">\n                  ${void 0!==t.volumeInfo.title?t.volumeInfo.title:""}\n               </h2>\n               <div class="list-books__card--reviews">\n                  <div class="book-rating">\n                     ${s}\n                  </div>\n                  <p class="list-books__card--reviews-text">\n                     ${void 0!==t.volumeInfo.ratingsCount?t.volumeInfo.ratingsCount+" review":""}\n                  </p>\n               </div>\n               <p class="list-books__card--description">\n                  ${void 0!==t.volumeInfo.description?t.volumeInfo.description:""}\n               </p>\n               <h2 class="list-books__card--price">\n                  ${(t.saleInfo.retailPrice?.amount??"")+" "+(t.saleInfo.retailPrice?.currencyCode??"")}\n               </h2>\n               <button class="list-books__card--button addToCartButton ${o.includes(t.id)&&"list-books__card--button-active"}" id="${t.id}">\n                  ${o.includes(t.id)?"in the cart":"buy now"}\n               </button>\n            </div>\n         </div>\n         `;e+=c})),l.innerHTML=e;const n=document.querySelectorAll(".addToCartButton"),s=document.querySelector(".nav-bar__loby-span");function c(){let t=o.length,e=!1;n.forEach((function(t){t.classList.contains("list-books__card--button-active")&&(e=!0)})),e&&o.length>0?(s.classList.add("nav-bar__loby-span-active"),s.classList.remove("nav-bar__loby-span")):(s.classList.add("nav-bar__loby-span"),s.classList.remove("nav-bar__loby-span-active")),s.textContent=t}n.forEach((function(t){t.addEventListener("click",(function(t){const e=t.target;let n=e.getAttribute("id");e.classList.toggle("list-books__card--button-active"),e.classList.contains("list-books__card--button-active")?(e.textContent="in the cart",e.dataset.show="true",o.push(n)):(e.textContent="buy now",e.dataset.show="false",o.splice(o.indexOf(n),1)),localStorage.setItem("books",JSON.stringify(o)),c()}))})),o.length>0&&c()}(t)}},n.onerror=function(){console.log("Ошибка! Статус ответа: ",n.status)},n.send()}!function(){if(s.length>0){const t=s[c];t.classList.remove("category__link"),t.classList.add("active__category")}}(),s.forEach(((e,n)=>{e.addEventListener("click",(e=>{e.preventDefault(),c=n,a=t[n].subject,i(r,a),function(t){s.forEach((t=>{t.classList.remove("active__category"),t.classList.add("category__link")})),s[t].classList.toggle("active__category"),s[t].classList.toggle("category__link")}(c)}))})),n.addEventListener("change",(t=>{t.preventDefault(),i(1,t.target.value)}));let r=0;document.querySelector(".list-books__card--button").addEventListener("click",(()=>{r+=6,i(r,a)}));const l=document.querySelector(".list-books__cards");i(r,a)}(),function(){const t=document.querySelector(".menu__icon");if(t){const e=document.querySelector(".header__menu-body");t.addEventListener("click",(function(n){t.classList.toggle("active__menu"),e.classList.toggle("active__menu")}))}}()})();
//# sourceMappingURL=main.js.map